---
title: 仮想デバイスでGoogleアカウント認証をした時に気を付けること
tags:
  - スマートフォン
  - 仮想環境
  - アプリ開発
  - Googleアカウント
  - しくじり
private: false
updated_at: '2024-07-17T07:53:59+09:00'
id: 7032effc34525caa6c63
organization_url_name: null
slide: false
ignorePublish: false
---

:::note warn
厳密にはやらかしではないが、当時は相当やらかしたと思ったのでやらかしカテゴリにする
:::

見知らぬ端末情報が追加された事にアカウントジャックされたか？と本気で錯覚した時の話である。

## 結論：開発用アカウントと個人利用のアカウントは分けよう
仮想環境上に構築した仮想デバイスでGoogle認証を行うと、仮想デバイスが登録される。

何を当たり前の話をしているのか、と思うかもしれないが、モバイルアプリにGoogleサービスを使う場合はあるあるではないだろうか？
特に当時は開発用のアカウントと通常利用のアカウントを分けなかったので、心当たりのないデバイスが登録された事に余計に大騒ぎになってしまったということもあり、落ち着いて考えれば「そりゃそうでしょ」という話でしかないが備忘録として残す。

## 発端
まず、私は普段外出しないため、スマートデバイスを持ち歩くという事をしない
そして、いわゆるスマホゲーはやってない
さらに、電話が嫌いである

家族からは「スマホを持たせても連絡がつかない」とクレームが来るぐらいだったため、現在はPCでも使えるサービスを活用することで連絡手段を確立できている。具体的にはLINE、Slack、discordなどである。
特に業務でSlackしか使わないためメールも見ないので、必要なメール登録はSlackワークスペースのメールアドレスを活用しているという徹底ぶりである。

このような運用をしているため、外出するために必ずGoogle公式が提供している「スマートフォンを探す」が手放せない。

https://myaccount.google.com/find-your-phone

## 原因： 仮想デバイスに位置情報を付与している
当時、これに気付かなかった
設定次第で位置情報もいじれるので、たとえば位置情報に依存するアプリを作る場合には非常に便利、なのだが残念ながら当時は位置情報を使う想定をしていなかった。
国外ならどこかのサーバーを拠点にアクセスしているのだろう、という方向で考えることもできたので気にしなかったが、残念ながら生活圏内（多少足を伸ばせばいける程度）だったのが余計に混乱を生じる事になった。
そのため「このスマホは誰のだ？」と「心当たりのないスマホから認証されてる」という事が余計に混乱を生じる事になる。

## 言いたい事
これからスマホアプリ開発をする際に仮想デバイスを使う場合は本稿に留意しておきたい。
特にスマホを普段使いしている場合は、開発終了後に自分のアカウントに仮想デバイスを追加している事に気付きにくい可能性が高い。
